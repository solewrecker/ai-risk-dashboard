<!-- supabase/functions/generate-premium-pdf/report-template.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise AI Risk Assessment - {{toolName}}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        {{css}}
    </style>
</head>
<body>
    <div class="report-container">
        <!-- === HEADER === -->
        <header class="header">
            <div class="header-grid">
                <div class="header-main">
                    <h1 class="report-title">AI Tool Security Risk Assessment</h1>
                    <p class="report-subtitle">Confidential enterprise-grade analysis of AI tool security and compliance posture.</p>
                </div>
                <div class="header-side">
                    <div class="tool-highlight">
                        <h2 class="tool-name">{{toolName}}</h2>
                        <p class="tool-subtitle">{{toolCategory}}</p>
                    </div>
                </div>
            </div>
            <div class="report-meta">
                <span><strong>Assessment ID:</strong> {{assessmentId}}</span>
                <span><strong>Generated:</strong> {{generatedDate}}</span>
                <span><strong>Framework:</strong> v2.1</span>
            </div>
        </header>

        <!-- === EXECUTIVE SUMMARY === -->
        <main class="executive-summary">
            <h2 class="section-title">
                <svg class="icon" viewBox="0 0 20 20"><path d="M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41zM10 12a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>
                Executive Summary
            </h2>
            <div class="summary-grid">
                <div class="risk-score-display">
                    <div class="risk-score-number">{{finalScore}}</div>
                    <div class="risk-score-total">/100</div>
                    <div class="risk-level-badge">{{riskLevel}}</div>
                    <p class="risk-description">{{riskDescription}}</p>
                </div>
                <div class="summary-insights">
                    <div class="insight-card">
                        <h3 class="card-title">Security Status</h3>
                        <p class="card-content">{{securityStatus}}</p>
                    </div>
                    <div class="insight-card">
                        <h3 class="card-title">Compliance Impact</h3>
                        <p class="card-content">{{complianceImpact}}</p>
                    </div>
                    <div class="insight-card">
                        <h3 class="card-title">Recommendation</h3>
                        <p class="card-content">{{mainRecommendation}}</p>
                    </div>
                </div>
            </div>

            <div class="key-findings">
                <h3 class="section-title" style="font-size: 1.25rem; margin-bottom: 1rem;">Key Security Findings</h3>
                <ul class="key-findings-list">
                    {{keyFindings}}
                </ul>
            </div>
        </main>

        <div class="page-break"></div>

        <!-- === DETAILED BREAKDOWN === -->
        <section class="detailed-breakdown">
            <h2 class="section-title">
                <svg class="icon" viewBox="0 0 20 20"><path d="M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zM7 6v2h6V6H7zm0 4v2h6v-2H7zm0 4v2h6v-2H7z"/></svg>
                Detailed Risk Breakdown
            </h2>
            <div class="breakdown-grid">
                <!-- Data Storage & Privacy -->
                <div class="category-card">
                    <div class="category-header">
                        <span class="category-name">Data Storage & Privacy</span>
                        <span class="risk-level-tag {{data_storage_risk_level_class}}">{{data_storage_risk_level}}</span>
                    </div>
                    <div class="category-details">
                        <p>{{data_storage_details}}</p>
                    </div>
                </div>
                <!-- Training & Content Usage -->
                <div class="category-card">
                    <div class="category-header">
                        <span class="category-name">Training & Content Usage</span>
                        <span class="risk-level-tag {{training_usage_risk_level_class}}">{{training_usage_risk_level}}</span>
                    </div>
                    <div class="category-details">
                        <p>{{training_usage_details}}</p>
                    </div>
                </div>
                <!-- Access Controls -->
                <div class="category-card">
                    <div class="category-header">
                        <span class="category-name">Access Controls & Authentication</span>
                        <span class="risk-level-tag {{access_controls_risk_level_class}}">{{access_controls_risk_level}}</span>
                    </div>
                    <div class="category-details">
                        <p>{{access_controls_details}}</p>
                    </div>
                </div>
                <!-- Compliance & Regulatory -->
                <div class="category-card">
                    <div class="category-header">
                        <span class="category-name">Compliance & Regulatory Risk</span>
                        <span class="risk-level-tag {{compliance_risk_level_class}}">{{compliance_risk_level}}</span>
                    </div>
                    <div class="category-details">
                        <p>{{compliance_details}}</p>
                    </div>
                </div>
                <!-- Vendor Transparency -->
                <div class="category-card">
                    <div class="category-header">
                        <span class="category-name">Vendor Transparency & Trust</span>
                        <span class="risk-level-tag {{vendor_transparency_risk_level_class}}">{{vendor_transparency_risk_level}}</span>
                    </div>
                    <div class="category-details">
                        <p>{{vendor_transparency_details}}</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- === RECOMMENDATIONS === -->
        <section class="recommendations-section">
             <h2 class="section-title">
                <svg class="icon" viewBox="0 0 20 20"><path d="M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm2-12a2 2 0 1 0-4 0v2a2 2 0 1 0 4 0v-2zm-2 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>
                Security Recommendations
            </h2>
            {{recommendations}}
        </section>

        <!-- === FOOTER === -->
        <footer class="footer">
            <p>This report was generated by the <strong>Enterprise AI Risk Assessment Framework</strong>.</p>
            <p>The information contained herein is <strong class="confidential">CONFIDENTIAL</strong> and intended for internal use only. Do not distribute outside the organization.</p>
            <p>Assessment ID: {{assessmentId}} | Generated on: {{generatedDate}}</p>
        </footer>
    </div>
</body>
</html> 